<p style="color: green"><%= notice %></p>

<h1>Practices</h1>

<div id="practices">
  <% @practices.each do |practice| %>
    <p>
      <strong><%= practice.name %></strong>
      <em><%= link_to "show this practice", practice, :onclick => "callPractice(#{practice.id})"  %></em>
    </p>
  <% end %>
</div>
<!-- if in the cucumber test, show the button -->
<% if Rails.env.test?%>
<p><%= link_to "New practice", new_practice_path %></p>
<% end %>
<!-- if in the production, show the button -->
<% if session[:userinfo].present? %>
<p><%= link_to "New practice", new_practice_path %></p>
<% end %>
<p><%= link_to "Back to home", root_path, :onclick => 'resetGraph()'  %></p>

<script>
    function callPractice(practiceId) {
        const label = 'practices' + practiceId;
        window.parent.fadeOutUnconnected(label);
    }

    function resetGraph() {
        window.parent.resetGraph();
    }
</script>
