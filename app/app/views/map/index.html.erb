<!DOCTYPE html>
<html lang="en">

<head>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag 'bootstrap', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= stylesheet_link_tag 'bootstrap-icons', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= stylesheet_link_tag 'boxicons', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

  <title>IDEALS</title>

  <style>
     

      #concept-map {
          width: 100%;
          height: calc(100vh - 76px);
          background-color: #FAF9F6;
      }

      .site-header {
          background-color: #500000;
      }

      .ui-autocomplete {
          z-index: 1050;
      }
      @media (max-width: 1200px) {
  #mobile-menu {
    display: block !important;
    padding-right:10px;
  }
  .search-bar{
    
  }
  #search-icon{
    display:none !important;
  }
  #mobile-menu-inner:hover{
    color: var(--bs-btn-color) !important;
    background-color: var(--bs-btn-bg) !important;
    border-color: var(--bs-btn-border-color) !important;
  }
  #mobile-search-btn:hover{
    color: var(--bs-btn-color) !important;
    background-color: var(--bs-btn-bg) !important;
    border-color: var(--bs-btn-border-color) !important;
  }
}
@media (min-width: 1201px) {
  #sidebar{
    left:0px !important;
  }
}
  </style>
</head>

<body class="container-fluid wrapper">

<!-- ======= Header ======= -->
<header id="header" class="header fixed-top d-flex align-items-center">
<div id="mobile-menu" style="display:none;">

<button title="Menu" class="btn btn-outline-dark" id="mobile-menu-inner"><i class="bi bi-list"></i></button>
<button title="Menu" class="btn btn-outline-dark" id="mobile-search-btn"><i class="bi bi-search"></i></button>

</div>
  <div class="d-flex align-items-center justify-content-between" id="logo">
    <a href="" class="logo d-flex align-items-center">
      <span class="d-none d-lg-block">IDEALS</span>
    </a>
  </div><!-- End Logo -->

  <div class="search-bar">
    <form class="search-form d-flex align-items-center" method="get" action="#">
      <input type="text" name="query" placeholder="Search" title="Enter search keyword" id="autocomplete">
      <button type="submit" title="Search"><i class="bi bi-search"></i></button>
    </form>
  </div><!-- End Search Bar -->

  <nav class="header-nav ms-auto" >
    <ul class="d-flex align-items-center">

      <li class="nav-item d-block d-lg-none" id="search-icon">
        <a class="nav-link nav-icon search-bar-toggle " href="#">
          <i class="bi bi-search"></i>
        </a>
      </li><!-- End Search Icon-->

      <li class="nav-item pe-3">
        <% if session[:userinfo].present? %>
          <%= button_to 'Logout', 'auth/logout', method: :get, class: "btn btn-outline-secondary", data: { turbo: false } %>
        <% else %>
          <%= button_to 'Login', '/auth/auth0', method: :post, class: "btn btn-outline-primary", data: { turbo: false } %>
        <% end %>
      </li>

    </ul>
  </nav><!-- End Icons Navigation -->
</header><!-- End Header -->

<!-- ======= Sidebar ======= -->
<aside id="sidebar" class="sidebar" style="padding: 0;overflow:hidden;">
  <iframe id='iframe' class="embed-responsive-item iframe-container" src='/init' style='border:0; width: 100%; height: 100%'></iframe>
</aside><!-- End Sidebar-->


<main id="main" class="main" style="padding-bottom: 0px;">

  <section class="section">
    <div class="row">
      <div class="col-lg-12">

        <div class="card">
          <div class="card-body" id="graph" style="padding: 0">
            <div id="concept-map" style="padding: 0; "></div>
          </div>
        </div>
      </div>

    </div>
  </section>

</main><!-- End #main -->

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

</body>

<%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
<%= javascript_pack_tag 'map', 'data-turbolinks-track': 'reload' %>
<%= javascript_pack_tag 'search', 'data-turbolinks-track': 'reload' %>
<%= javascript_pack_tag 'sidebar', 'data-turbolinks-track': 'reload' %>
</html>